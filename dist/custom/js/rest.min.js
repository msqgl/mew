var RestModule=function(){function a(a,b,c){$.ajax({method:"POST",url:d+":"+e+g,data:a,success:function(a){a.error?c():b(a)},error:function(){c()}})}function b(a){var b=$("#template").html();Mustache.parse(b),a.data[a.data.length-1].last=!0;var c=Mustache.render(b,a);$("#target").prepend(c),$.each($(".card-container"),function(){var a=$(this).find("button"),b=$(a).data("total-price"),c=$(a).data("consumed-price");if(b&&b<=c){var d=$(this).find(".green-check");$(d).removeClass("hidden"),$(a).hide()}})}function c(){$("#gift-error").modal()}var d="http://miky-ele.ddns.net",e="8080",f="/getAllGift.json",g="/saveGiftMsg.json";return function(a,b){$.ajax({method:"GET",url:d+":"+e+f,success:function(c){c.error?b():a(c)},error:function(){b()}})}(b,c),{saveGiftMsg:a}}();