$(function(){function a(){h.fadeOut(function(){j.fadeIn()})}function b(){h.fadeOut(function(){i.fadeIn()})}function c(a,b){console.log("totalPrice "+a+", consumedPrice "+b);var c=!1,d=e.val(),g=f.val();if(d||(c=!0,e.parent().addClass("has-error")),d){d>a-b&&e.parent().addClass("has-error")}return g||(c=!0,f.parent().addClass("has-error")),c}function d(){$(".jumbotron").fadeTo("slow",.3,function(){$(this).hasClass("bg-seychelles")?($(this).removeClass("bg-seychelles"),$(this).addClass("bg-japan-lantern")):($(this).removeClass("bg-japan-lantern"),$(this).addClass("bg-seychelles"))}).fadeTo("slow",1)}var e=$("#contribute"),f=$("#sender"),g=$("#message-text"),h=$(".step-1"),i=$(".step-2"),j=$(".step-error"),k=$("#gift-modal"),l=$("#gift-modal-button");k.on("show.bs.modal",function(a){var b=$(a.relatedTarget),c=b.data("title");$(this).find(".modal-title").text(c);var d=b.data("consumed-price"),g=b.data("total-price"),j=g-d;e.attr("placeholder","Massimo "+j+" â‚¬"),e.attr("max",j),e.attr("min",0),h.fadeIn(),i.fadeOut(),e.removeClass("has-error"),e.val(""),f.removeClass("has-error"),f.val("");var k=b.data("id-gift");l.data("id-gift",k),l.data("consumed-price",d),l.data("total-price",g)}),k.on("hide.bs.modal",function(){i.is(":visible")&&window.location.reload()}),$("#gift-modal-button").on("click tap",function(){if(!c($(this).data("total-price"),$(this).data("consumed-price"))){var d={idGift:$(this).data("id-gift"),msg:g.val(),sender:f.val(),amount:e.val()};RestModule.saveGiftMsg(d,b,a)}}),setInterval(function(){d()},5e3),$("[type='number']").keypress(function(a){(a.which<48||a.which>57)&&a.preventDefault()})});