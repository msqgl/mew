$(function(){function a(a,b){console.log("totalPrice "+a+", consumedPrice "+b);var e=!1,f=c.val(),g=d.val();if(f||(e=!0,c.parent().addClass("has-error")),f){f>a-b&&c.parent().addClass("has-error")}return g||(e=!0,d.parent().addClass("has-error")),e}function b(){$(".jumbotron").fadeTo("slow",.3,function(){$(this).hasClass("bg-seychelles")?($(this).removeClass("bg-seychelles"),$(this).addClass("bg-japan-lantern")):($(this).removeClass("bg-japan-lantern"),$(this).addClass("bg-seychelles"))}).fadeTo("slow",1)}var c=$("#contribute"),d=$("#sender"),e=$(".step-1"),f=$(".step-2"),g=$("#gift-modal"),h=$("#gift-modal-button");g.on("show.bs.modal",function(a){var b=$(a.relatedTarget),g=b.data("title");$(this).find(".modal-title").text(g);var i=b.data("consumed-price"),j=b.data("total-price"),k=j-i;c.attr("placeholder","Massimo "+k+" â‚¬"),c.attr("max",k),c.attr("min",0),e.fadeIn(),f.fadeOut(),c.removeClass("has-error"),c.val(""),d.removeClass("has-error"),d.val("");var l=b.data("index");h.data("index",l),h.data("consumed-price",i),h.data("total-price",j)}),g.on("hide.bs.modal",function(){f.is(":visible")&&window.location.reload()}),$("#gift-modal-button").on("click tap",function(){a($(this).data("total-price"),$(this).data("consumed-price"))||($(this).data("id"),c.val(),RestModule.saveGiftMsg(function(){e.fadeOut(function(){f.fadeIn()})}))}),setInterval(function(){b()},5e3),$("[type='number']").keypress(function(a){(a.which<48||a.which>57)&&a.preventDefault()})});