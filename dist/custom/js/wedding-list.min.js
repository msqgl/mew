$(function(){function a(a,b){var e=!1,f=c.val(),g=d.val();if(f||(e=!0,c.parent().addClass("has-error")),f){f>a-b&&c.parent().addClass("has-error")}return g||(e=!0,d.parent().addClass("has-error")),e}function b(){$(".jumbotron").fadeTo("slow",.3,function(){$(this).hasClass("bg-seychelles")?($(this).removeClass("bg-seychelles"),$(this).addClass("bg-japan-lantern")):($(this).removeClass("bg-japan-lantern"),$(this).addClass("bg-seychelles"))}).fadeTo("slow",1)}var c=$("#contribute"),d=$("#recipient-name"),e=$(".step-1"),f=$(".step-2"),g=$("#gift-modal");g.on("show.bs.modal",function(a){var b=$(a.relatedTarget),g=b.data("title");$(this).find(".modal-title").text(g);var h=b.data("consumed-price"),i=b.data("total-price"),j=i-h;c.attr("max",j),c.attr("min",0),e.fadeIn(),f.fadeOut(),c.removeClass("has-error"),c.val(""),d.removeClass("has-error"),d.val("")}),g.on("hide.bs.modal",function(){f.is(":visible")&&window.location.reload()}),$("#gift-modal-button").on("click tap",function(){a($(this).data("total-price"),$(this).data("consumed-price"))||e.fadeOut(function(){f.fadeIn()})}),setInterval(function(){b()},5e3),$("[type='number']").keypress(function(a){a.preventDefault()})});